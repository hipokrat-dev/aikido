<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Kim Siyah KuÅŸak Olmak Ä°ster? Aikido felsefesi Ã¼zerine kurulu interaktif bilgi yarÄ±ÅŸmasÄ±.">
    <title>Kim Siyah KuÅŸak Olmak Ä°ster: AÄ°KÄ°DO</title>
    
    <!-- Tailwind CSS ve Google Fonts -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&family=Permanent+Marker&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: #0f172a;
            color: #f8fafc;
            overflow-x: hidden;
        }
        .dojo-overlay {
            background: linear-gradient(rgba(15, 23, 42, 0.9), rgba(15, 23, 42, 0.95)), 
                        url('https://images.unsplash.com/photo-1555597673-b21d5c935865?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');
            background-size: cover;
            background-position: center;
            position: fixed;
            inset: 0;
            z-index: -1;
        }
        .title-font { font-family: 'Permanent Marker', cursive; }
        .belt-node { transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); }
        .option-btn {
            background: rgba(30, 41, 59, 0.7);
            border: 2px solid #334155;
            transition: all 0.2s;
        }
        .option-btn:hover:not(:disabled) {
            background: rgba(51, 65, 85, 0.9);
            border-color: #fbbf24;
            transform: translateY(-2px);
        }
        .correct { background-color: #059669 !important; border-color: #10b981 !important; animation: success-pulse 0.5s; }
        .wrong { background-color: #dc2626 !important; border-color: #ef4444 !important; }
        
        @keyframes success-pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .belt-white { background: #ffffff; color: #000; }
        .belt-yellow { background: #fbbf24; color: #000; }
        .belt-orange { background: #f97316; color: #fff; }
        .belt-green { background: #22c55e; color: #fff; }
        .belt-blue { background: #3b82f6; color: #fff; }
        .belt-brown { background: #78350f; color: #fff; }
        .belt-black { background: #000000; color: #fff; border: 1px solid #fff; }
        
        .joker-locked { opacity: 0.4; cursor: not-allowed; filter: grayscale(1); }
        .joker-active { animation: glow 2s infinite; }
        @keyframes glow {
            0%, 100% { box-shadow: 0 0 5px #a855f7; }
            50% { box-shadow: 0 0 20px #a855f7; }
        }
        
        #message-box {
            transform: translate(-50%, -120%);
            transition: transform 0.3s ease-out;
            left: 50%;
        }
        #message-box.active {
            transform: translate(-50%, 0);
        }

        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">
    <div class="dojo-overlay"></div>

    <!-- Sensei Message Box -->
    <div id="message-box" class="fixed top-10 z-[60] w-full max-w-md bg-indigo-900 border-2 border-indigo-400 p-4 rounded-2xl shadow-2xl flex items-center gap-4">
        <div class="text-3xl">â›©ï¸</div>
        <div>
            <p id="message-label" class="text-xs font-bold text-indigo-300 uppercase tracking-tighter">Sensei FÄ±sÄ±ldÄ±yor</p>
            <p id="message-text" class="text-sm font-medium italic"></p>
        </div>
        <button onclick="hideSenseiMessage()" class="ml-auto text-indigo-300 hover:text-white">âœ•</button>
    </div>

    <!-- Intro Screen -->
    <div id="intro-screen" class="max-w-3xl w-full bg-slate-900/80 backdrop-blur-xl border border-slate-700 rounded-3xl p-8 shadow-2xl flex flex-col gap-6 fade-in">
        <div class="text-center">
            <h1 class="title-font text-4xl text-amber-500 mb-2">AÄ°KÄ°DO'YA HOÅ GELDÄ°NÄ°Z</h1>
            <p class="text-slate-400 tracking-widest font-bold uppercase">Zihin, Beden ve Ruh Uyumunun Yolu</p>
        </div>

        <div class="bg-slate-800/60 p-6 rounded-2xl border border-amber-500/30">
            <label class="block text-amber-400 text-xs font-bold uppercase mb-2">Dojo KayÄ±t Defteri</label>
            <input type="text" id="user-name-input" placeholder="LÃ¼tfen adÄ±nÄ±zÄ± giriniz..." class="w-full bg-slate-900 border border-slate-700 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-amber-500 transition">
            <!-- KiÅŸiselleÅŸtirilmiÅŸ Mutlu YÄ±llar MesajÄ± -->
            <p id="new-year-msg" class="hidden mt-4 p-3 bg-indigo-500/20 border border-indigo-500/30 rounded-lg text-sm text-indigo-300 italic text-center animate-pulse"></p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm leading-relaxed">
            <div class="bg-slate-800/40 p-4 rounded-xl border border-slate-700">
                <h3 class="text-amber-400 font-bold mb-1">ğŸ“œ Kurallar</h3>
                <p class="text-xs text-slate-400">7 kuÅŸak, her kuÅŸakta 3 soru. YanlÄ±ÅŸ cevap yolu baÅŸtan yÃ¼rÃ¼tÃ¼r. Ä°puÃ§larÄ± (ğŸ’¡) yanÄ±nÄ±zda.</p>
            </div>
            <div class="bg-slate-800/40 p-4 rounded-xl border border-slate-700">
                <h3 class="text-amber-400 font-bold mb-1">ğŸ¥‹ Hedef</h3>
                <p class="text-xs text-slate-400">TÃ¼m seviyeleri geÃ§erek adÄ±nÄ±za Ã¶zel Siyah KuÅŸak diplomasÄ±nÄ± alÄ±n.</p>
            </div>
        </div>

        <button onclick="game.start()" class="bg-amber-500 text-slate-900 font-black py-4 rounded-2xl hover:bg-amber-400 transition transform hover:scale-105 shadow-xl">YOLCULUÄA BAÅLA</button>
    </div>

    <!-- Main Game -->
    <div id="game-app" class="hidden max-w-4xl w-full bg-slate-900/40 backdrop-blur-xl border border-slate-700 rounded-3xl p-6 md:p-10 shadow-2xl relative">
        <header class="text-center mb-8">
            <h1 class="title-font text-3xl md:text-5xl text-amber-500">KÄ°M SÄ°YAH KUÅAK OLMAK Ä°STER?</h1>
        </header>

        <div class="mb-10">
            <div class="flex flex-wrap justify-center gap-3 md:gap-4" id="belt-tracker"></div>
            <div class="mt-4 h-2 bg-slate-800 rounded-full overflow-hidden">
                <div id="progress-bar" class="h-full bg-amber-500 transition-all duration-700" style="width: 0%"></div>
            </div>
        </div>

        <main class="space-y-6">
            <div class="bg-slate-800/80 p-6 rounded-2xl border-l-8 border-amber-500 relative">
                <div id="belt-tag" class="inline-block px-3 py-1 rounded text-xs font-black uppercase mb-3"></div>
                <button onclick="game.showCurrentHint()" class="absolute top-4 right-4 text-amber-400 hover:text-amber-300" title="Ä°pucu">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5"/><path d="M9 18h6"/><path d="M10 22h4"/></svg>
                </button>
                <h2 id="question-text" class="text-xl md:text-2xl font-medium leading-relaxed"></h2>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4" id="options-grid"></div>
        </main>

        <footer class="mt-10 flex flex-wrap justify-center gap-4 border-t border-slate-800 pt-8">
            <button id="joker-sensei" onclick="game.useSensei()" class="bg-indigo-600 px-6 py-3 rounded-xl text-sm font-bold shadow-lg">â›©ï¸ Sensei'ye Sor</button>
            <button id="joker-50" onclick="game.use5050()" class="joker-locked bg-purple-600 px-6 py-3 rounded-xl text-sm font-bold">â˜¯ï¸ 50:50</button>
            <button id="joker-skip" onclick="game.useSkip()" class="bg-teal-600 px-6 py-3 rounded-xl text-sm font-bold">ğŸŒ€ Pas GeÃ§</button>
        </footer>
    </div>

    <!-- Results -->
    <div id="overlay" class="hidden fixed inset-0 bg-black/95 backdrop-blur-md z-50 flex items-center justify-center p-6 text-center">
        <div class="bg-slate-900 border-2 border-amber-500 p-10 rounded-3xl max-w-xl w-full flex flex-col items-center">
            <div id="modal-icon" class="text-7xl mb-6">ğŸ†</div>
            <h2 id="modal-title" class="title-font text-3xl md:text-4xl text-amber-500 mb-4 uppercase"></h2>
            <div id="quote-box" class="mb-8 p-6 bg-slate-800/40 border-l-4 border-indigo-500 italic text-slate-300">
                <p id="modal-quote"></p>
                <p id="modal-quote-author" class="text-xs mt-2 text-indigo-400 font-bold"></p>
            </div>
            <p id="modal-desc" class="text-slate-400 mb-8"></p>
            <button onclick="game.resetToStart()" class="bg-amber-500 text-slate-900 font-black px-12 py-4 rounded-full hover:scale-105 transition">YOLU TEKRAR YÃœRÃœ</button>
        </div>
    </div>

    <script>
        const AIKIDO_QUOTES = [
            { text: "GerÃ§ek zafer, kendine karÅŸÄ± kazanÄ±lan zaferdir.", author: "Morihei Ueshiba" },
            { text: "DÃ¼ÅŸmek sorun deÄŸil, her seferinde daha gÃ¼Ã§lÃ¼ ayaÄŸa kalkmak Ã¶nemlidir.", author: "Aikido Yolu" },
            { text: "Zihnini su gibi yap; formsuz ve her ÅŸeye uyumlu.", author: "Budo Felsefesi" }
        ];

        const QUESTION_POOL = [
            { name: "Beyaz KuÅŸak", class: "belt-white", pool: [
                { q: "Aikido'nun kurucusu Morihei Ueshiba'ya ne denir?", options: ["Soke", "O-Sensei", "Doshu", "Shihan"], correct: 1, hint: "BÃ¼yÃ¼k Ã–ÄŸretmen anlamÄ±na gelir." },
                { q: "Aikido'da 'Ki' neyi temsil eder?", options: ["Sevgi", "Yol", "Enerji / Ruh", "Uyum"], correct: 2, hint: "YaÅŸam enerjisidir." },
                { q: "Antrenman baÅŸlarken sÃ¶ylenen rica sÃ¶zÃ¼?", options: ["Arigato", "Onegai Shimasu", "Hajime", "Rei"], correct: 1, hint: "LÃ¼tfen Ã§alÄ±ÅŸalÄ±m demektir." }
            ]},
            { name: "SarÄ± KuÅŸak", class: "belt-yellow", pool: [
                { q: "Ayaktaki temel duruÅŸa ne denir?", options: ["Seiza", "Kamae", "Ukemi", "Tenkan"], correct: 1, hint: "HazÄ±r duruÅŸtur." },
                { q: "Ã–ne doÄŸru yuvarlanarak dÃ¼ÅŸÃ¼ÅŸ?", options: ["Mae Ukemi", "Ushiro Ukemi", "Yoko Ukemi", "Tobu Ukemi"], correct: 0, hint: "Mae Ã¶n demektir." },
                { q: "Diz Ã¼stÃ¼ yÃ¼rÃ¼yÃ¼ÅŸ tekniÄŸi?", options: ["Shikko", "Tenkan", "Irimi", "Tsugi-ashi"], correct: 0, hint: "Samuray yÃ¼rÃ¼yÃ¼ÅŸÃ¼dÃ¼r." }
            ]},
            { name: "Turuncu KuÅŸak", class: "belt-orange", pool: [
                { q: "SaldÄ±rganÄ±n gÃ¼cÃ¼nÃ¼ arkaya yÃ¶nlendiren dairesel adÄ±m?", options: ["Irimi", "Tenkan", "Tsugi-ashi", "Ayumi-ashi"], correct: 1, hint: "DÃ¶nÃ¼ÅŸ iÃ§erir." },
                { q: "Birinci kontrol Ã¶ÄŸretisi?", options: ["Nikyo", "Sankyo", "Ikkyo", "Yonkyo"], correct: 2, hint: "Temel kol kilididir." },
                { q: "128 cm uzunluÄŸundaki ahÅŸap sopa?", options: ["Bokken", "Tanto", "Jo", "Katana"], correct: 2, hint: "Asa formundadÄ±r." }
            ]},
            { name: "YeÅŸil KuÅŸak", class: "belt-green", pool: [
                { q: "'Kotegaeshi' vÃ¼cudun neresine uygulanÄ±r?", options: ["Omuz", "Bilek", "Dirsek", "Boyun"], correct: 1, hint: "Bilek bÃ¼kÃ¼lmesidir." },
                { q: "DoÄŸrudan iÃ§eri girerek fÄ±rlatma?", options: ["Iriminage", "Shihonage", "Tenchi-nage", "Koshinage"], correct: 0, hint: "Irimi iÃ§eri girmek demektir." },
                { q: "TekniÄŸi yapan kiÅŸiye ne denir?", options: ["Uke", "Nage (Tori)", "Sensei", "Kohai"], correct: 1, hint: "FÄ±rlatan kiÅŸidir." }
            ]},
            { name: "Mavi KuÅŸak", class: "belt-blue", pool: [
                { q: "Shihonage'deki 'Shiho' ne demektir?", options: ["DÃ¶rt yÃ¶n", "BÃ¼yÃ¼k atÄ±ÅŸ", "KÄ±lÄ±Ã§", "Nefes"], correct: 0, hint: "DÃ¶rt tarafÄ± temsil eder." },
                { q: "Diz Ã¼stÃ¼nde yapÄ±lan tekniklere ne denir?", options: ["Tachi-waza", "Suwari-waza", "Hanmi-handachi", "Randori"], correct: 1, hint: "Oturarak Ã§alÄ±ÅŸmadÄ±r." },
                { q: "AhÅŸap kÄ±lÄ±ca ne denir?", options: ["Tanto", "Bokken", "Jo", "Shinai"], correct: 1, hint: "Tahta kÄ±lÄ±Ã§tÄ±r." }
            ]},
            { name: "Kahverengi KuÅŸak", class: "belt-brown", pool: [
                { q: "'Gokyo' neye karÅŸÄ± kullanÄ±lan beÅŸinci Ã¶ÄŸretidir?", options: ["Tekme", "BoÄŸaz", "BÄ±Ã§ak", "Yumruk"], correct: 2, hint: "SilahlÄ± saldÄ±rÄ±dÄ±r." },
                { q: "Siyah kuÅŸak pileli pantolonu?", options: ["Gi", "Keikogi", "Hakama", "Obi"], correct: 2, hint: "7 pileli kÄ±yafettir." },
                { q: "Birden fazla saldÄ±rgana karÅŸÄ± serbest Ã§alÄ±ÅŸma?", options: ["Randori", "Kata", "Suburi", "Embu"], correct: 0, hint: "Kaotik savunmadÄ±r." }
            ]},
            { name: "Siyah KuÅŸak", class: "belt-black", pool: [
                { q: "Aikido'nun manevi merkezi neresidir?", options: ["Tokyo", "Kyoto", "Iwama", "Osaka"], correct: 2, hint: "Dojo burada kurulmuÅŸtur." },
                { q: "Teknik sonrasÄ± tetikte kalma hali?", options: ["Mokuso", "Zanshin", "Satori", "Kamae"], correct: 1, hint: "FarkÄ±ndalÄ±k halidir." },
                { q: "Uyum ve baÄŸlanma anlamÄ±na gelen terim?", options: ["Musubi", "Zanshin", "Kiai", "Atemi"], correct: 0, hint: "DÃ¼ÄŸÃ¼mlemek demektir." }
            ]}
        ];

        // Personalization for name input
        document.getElementById('user-name-input').addEventListener('input', (e) => {
            const name = e.target.value.trim();
            const nyMsg = document.getElementById('new-year-msg');
            if (name) {
                nyMsg.innerText = `Mutlu YÄ±llar ${name}! ğŸ‰ Dojo kapÄ±larÄ± senin iÃ§in aÃ§Ä±lÄ±yor.`;
                nyMsg.classList.remove('hidden');
            } else {
                nyMsg.classList.add('hidden');
            }
        });

        function shuffle(arr) { return arr.sort(() => Math.random() - 0.5); }

        function hideSenseiMessage() {
            document.getElementById('message-box').classList.remove('active');
        }

        function showSenseiMessage(text, isHint = false) {
            const box = document.getElementById('message-box');
            document.getElementById('message-label').innerText = isHint ? "â›©ï¸ Sensei'nin Ä°pucu" : "â›©ï¸ Sensei FÄ±sÄ±ldÄ±yor";
            document.getElementById('message-text').innerText = text;
            box.classList.add('active');
            setTimeout(() => box.classList.remove('active'), 6000);
        }

        class AikidoGame {
            constructor() { this.userName = ""; }
            start() {
                this.userName = document.getElementById('user-name-input').value.trim() || "GenÃ§ SavaÅŸÃ§Ä±";
                document.getElementById('intro-screen').classList.add('hidden');
                document.getElementById('game-app').classList.remove('hidden');
                this.init();
            }
            init() {
                this.gameData = QUESTION_POOL.map(belt => ({ ...belt, questions: shuffle([...belt.pool]).slice(0, 3) }));
                this.beltIdx = 0; this.qIdx = 0; this.streak = 0;
                this.jokers = { sensei: true, f50: true, skip: true };
                this.totalQ = this.gameData.reduce((acc, belt) => acc + belt.questions.length, 0);
                this.currentGlobal = 0;
                this.renderTracker(); this.updateUI();
            }
            renderTracker() {
                const tr = document.getElementById('belt-tracker'); tr.innerHTML = '';
                this.gameData.forEach((b, i) => {
                    const d = document.createElement('div');
                    d.className = `belt-node h-8 px-4 rounded-full flex items-center justify-center text-[10px] font-bold shadow-sm ${b.class} ${i > this.beltIdx ? 'opacity-20 scale-90' : 'opacity-100 scale-100'}`;
                    d.innerText = b.name; tr.appendChild(d);
                });
            }
            updateUI() {
                const b = this.gameData[this.beltIdx]; const q = b.questions[this.qIdx];
                document.getElementById('question-text').innerText = q.q;
                const tag = document.getElementById('belt-tag'); tag.innerText = `${b.name} - Soru ${this.qIdx + 1}/3`;
                tag.className = `inline-block px-3 py-1 rounded text-xs font-black uppercase mb-3 ${b.class}`;
                document.getElementById('streak-val').innerText = this.streak;
                const grid = document.getElementById('options-grid'); grid.innerHTML = '';
                q.options.forEach((o, i) => {
                    const btn = document.createElement('button');
                    btn.className = 'option-btn p-5 rounded-2xl text-left flex items-start gap-4';
                    btn.innerHTML = `<span class="text-amber-500 font-bold">${String.fromCharCode(65 + i)}:</span> <span>${o}</span>`;
                    btn.onclick = () => this.handleAnswer(i, btn);
                    grid.appendChild(btn);
                });
                document.getElementById('progress-bar').style.width = `${(this.currentGlobal / this.totalQ) * 100}%`;
                const f = document.getElementById('joker-50');
                if (this.streak >= 3 && this.jokers.f50) f.className = 'bg-purple-600 px-6 py-3 rounded-xl text-sm font-bold shadow-lg joker-active';
                else f.className = 'joker-locked bg-purple-600 px-6 py-3 rounded-xl text-sm font-bold opacity-30';
                this.setJokerStyle('joker-sensei', this.jokers.sensei);
                this.setJokerStyle('joker-skip', this.jokers.skip);
            }
            setJokerStyle(id, active) {
                const el = document.getElementById(id);
                if (active) el.classList.remove('opacity-30', 'cursor-not-allowed');
                else el.classList.add('opacity-30', 'cursor-not-allowed');
            }
            showCurrentHint() { showSenseiMessage(this.gameData[this.beltIdx].questions[this.qIdx].hint, true); }
            handleAnswer(idx, btn) {
                const corr = this.gameData[this.beltIdx].questions[this.qIdx].correct;
                if (idx === corr) {
                    btn.classList.add('correct'); this.streak++; this.currentGlobal++;
                    setTimeout(() => this.next(), 800);
                } else {
                    btn.classList.add('wrong');
                    document.querySelectorAll('.option-btn').forEach((b, i) => { if(i === corr) b.classList.add('correct'); });
                    setTimeout(() => this.end(false), 1200);
                }
            }
            next() {
                this.qIdx++; if (this.qIdx >= 3) { this.qIdx = 0; this.beltIdx++; this.renderTracker(); }
                if (this.beltIdx >= this.gameData.length) this.end(true); else this.updateUI();
            }
            useSensei() { if (!this.jokers.sensei) return; showSenseiMessage("Zihnini sakinleÅŸtir... Cevap Dojo'daki ilk dersinde gizli."); this.jokers.sensei = false; this.updateUI(); }
            use5050() {
                if (this.streak < 3 || !this.jokers.f50) return;
                const corr = this.gameData[this.beltIdx].questions[this.qIdx].correct;
                let rem = 0;
                shuffle(Array.from(document.querySelectorAll('.option-btn'))).forEach(b => {
                    if (b.querySelector('span:last-child').innerText !== this.gameData[this.beltIdx].questions[this.qIdx].options[corr] && rem < 2) {
                        b.style.visibility = 'hidden'; rem++;
                    }
                });
                this.jokers.f50 = false; this.updateUI();
            }
            useSkip() { if (!this.jokers.skip) return; this.jokers.skip = false; this.currentGlobal++; this.next(); }
            end(win) {
                const ov = document.getElementById('overlay');
                const q = AIKIDO_QUOTES[Math.floor(Math.random() * AIKIDO_QUOTES.length)];
                document.getElementById('modal-quote').innerText = `"${q.text}"`;
                document.getElementById('modal-quote-author').innerText = q.author;
                ov.classList.remove('hidden');
                if (win) {
                    document.getElementById('modal-icon').innerText = "ğŸ¥‹";
                    document.getElementById('modal-title').innerText = `${this.userName.toUpperCase()}, SHODAN OLDUN!`;
                    document.getElementById('modal-desc').innerText = "Tebrikler! Aikido yolunda siyah kuÅŸaÄŸa ulaÅŸtÄ±n.";
                } else {
                    document.getElementById('modal-icon').innerText = "ğŸ‹";
                    document.getElementById('modal-title').innerText = "YOL DEVAM EDÄ°YOR...";
                    document.getElementById('modal-desc').innerText = `ÃœzÃ¼lme ${this.userName}, baÅŸarÄ± sabÄ±rda gizlidir.`;
                }
            }
            resetToStart() { document.getElementById('overlay').classList.add('hidden'); document.getElementById('game-app').classList.add('hidden'); document.getElementById('intro-screen').classList.remove('hidden'); }
        }
        const game = new AikidoGame();
    </script>
</body>
</html>
